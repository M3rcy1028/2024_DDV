<!DOCTYPE html>
<html>

<head>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <script src="/javascripts/jquery-3.7.1.min.js"></script>

  <!-- Bootstrap CSS -->
  <link rel='stylesheet' href='/vendors/bootstrap/css/bootstrap.min.css' />
  <link rel='stylesheet' href='/vendors/bootstrap/css/bootstrap-grid.min.css' />
  <link rel='stylesheet' href='/vendors/bootstrap/css/bootstrap-reboot.min.css' />

  <title>
    <%= title %>
  </title>

  <style>
    .adver_carousel {
      width: 1000px;
      height: 300px;
      overflow: hidden;
      margin-top: 30px;
    }

    .adver_carousel .carousel-inner {
      height: 100%;
      object-fit: cover;
    }

    .search-box {
      display: flex;
      margin-left: 10px;
    }

    .search-box input {
      width: 400px;
    }

    .search-btn {
      margin-left: 10px;
      margin-right: 10px;
    }
  </style>

  <style>
    .link {
      text-decoration: none;
      color: black;
    }

    .dropdown-menu .dropdown-item:active {
      background-color: #4D5154;
      color: white;
    }

    #recent {
      margin-top: 20px;
      margin-bottom: 20px;
    }

    #title a {
      text-decoration: none;
      color: black;
    }
  </style>
</head>

<body>
  <nav class="header d-flex justify-content-end">
    <a href="/roots/notificationList" class="p-2">공지사항</a>
    <% if (!rootLogin && !usrLogin) { %> <!--로그인 안 됨-->
      <a href="/joinForm" class="p-2">회원가입</a>
      <a href="/login" class="p-2">로그인</a>
      <% } %>
        <% if (rootLogin || usrLogin) { %> <!--로그인 됨-->
          <a href="/logout" class="p-2">로그아웃</a>
          <% } %>
  </nav>
  <nav class="d-flex mb-3">
    <a href="/" id="home" class="me-auto p-2">
      <img src="/images/design/weblogo.jpg" alt="로고" style="height: 50px;">
    </a>
    <% if (!rootLogin && !usrLogin) { %> <!--로그인 안 됨-->
      <div class="search-container mx-auto" style="flex-grow: 1; display: flex; justify-content: center;">
        <form class="search-box d-flex" action="" method="get">
          <input class="search-txt" type="text" name="" placeholder="상품명 입력">
          <button class="search-btn btn btn-dark" type="submit">검색</button>
        </form>
      </div>
    <% } %>
    <% if (rootLogin || usrLogin) { %> <!--로그인 됨-->
      <div class="search-container mx-auto">
        <form class="search-box d-flex" action="" method="get">
          <input class="search-txt" type="text" name="" placeholder="상품명 입력">
          <button class="search-btn btn btn-dark" type="submit">검색</button>
        </form>
      </div>
    <% } %>
    <nav class="header d-flex justify-content-end">
      <% if (rootLogin) { %> <!--관리자 로그인 됨-->
        <a href="/roots/manageUsrList" class="p-2">회원관리</a>
        <a href="/roots/manageBoardList" class="p-2">게시판관리</a>
        <a href="/roots/message" class="p-2">사이트분석</a>
      <% } %>
    <nav class="header d-flex justify-content-end">
      <% if (usrLogin) { %> <!--유저 로그인 됨-->
        <a href="/sellBoard/sellWrite" class="p-2">판매하기</a>
        <a href="/myPage" class="p-2">마이페이지</a>
        <a href="/message" class="p-2">메세지</a>
        <% } %>
    </nav>
  </nav>

  <hr> <!-- 구분선 -->

  <div class="menu-bar d-flex">
    <div class="dropdown me-2">
      <a class="btn btn-dark dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        카테고리
      </a>

      <ul class="dropdown-menu">
        <% for(var category in categories){ %>
          <li><a class="dropdown-item" href="/sellBoard/sellList/category/<%=categories[category]%>">
              <%= category %>
            </a></li>
          <% }%>
      </ul>
    </div>
    <a href="/sellBoard/sellList" , class="link p-2">전체 보기</a>
  </div>

  <hr> <!-- 구분선 -->

  <div class="d-flex flex-column">
    <div class="d-flex justify-content-center">
      <div id="advertisement" class="carousel slide carousel-fade adver_carousel" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="/images/advertisement/test1.jpg" class="d-block w-100" alt="광고이미지1">
          </div>
          <div class="carousel-item">
            <img src="/images/advertisement/test2.jpg" class="d-block w-100" alt="광고이미지2">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#advertisement" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#advertisement" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>

    <!-- 게시글 나열 -->
    <div class="d-flex flex-column">
      <div class="d-flex justify-content-center">
        <h3 id="recent">최근 게시글</h3>
      </div>
      <div class="container text-center" style="width: 1000px;">
        <% for (var line=0; line<2; line++){ var oneItem=rows[i]; %>
          <div class="row row-cols-4">
            <% for (var i=0; i<4; i++) { var num=line*4 + i; if(num>= rows.length){
              break;}
              var oneItem=rows[num]; %>
              <div class="d-flex flex-column col">
                <a href="/sellBoard/sellRead/<%=oneItem.Bno%>">
                  <img src="<%= oneItem.Img %>" style="width: 240px; height: 280px; object-fit: cover;"
                    class="border rounded mb-3" alt="판매 상품 이미지">
                </a>
                <b name="title" id="title">
                  <span class="badge bg-dark">
                    <%= oneItem.Trade %>
                  </span>
                  <a href="/sellBoard/sellRead/<%=oneItem.Bno%>">
                    <%= oneItem.Title %>
                  </a>
                </b>
                <p name="price" id="price">
                  <%= oneItem.Price %> 원
                </p>
              </div>
              <% } %>
          </div>
          <% } %>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="/vendors/bootstrap/js/bootstrap.bundle.min.js"></script>

</body>

</html>